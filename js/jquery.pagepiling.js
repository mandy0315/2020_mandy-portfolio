$(document).ready(function(){$.fn.pagepiling=function(S){var b=$.fn.pagepiling,c=$(this),z=0,x='ontouchstart'in window||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,l=0,j=0,h=0,i=0,g=[],T=600,a=$.extend(!0,{direction:'vertical',menu:null,verticalCentered:!0,sectionsColor:[],anchors:[],scrollingSpeed:700,easing:'easeInQuart',loopBottom:!1,loopTop:!1,css3:!0,navigation:{textColor:'#000',bulletsColor:'#000',position:'right',tooltips:[]},normalScrollElements:null,normalScrollElementTouchThreshold:5,touchSensitivity:5,keyboardScrolling:!0,sectionSelector:'.section',animateAnchor:!1,afterLoad:null,onLeave:null,afterRender:null},S),C,m,o;$.extend($.easing,{easeInQuart:function(e,a,b,c,d){return c*(a/=d)*a*a*a+b}}),b.setScrollingSpeed=function(b){a.scrollingSpeed=b},b.setMouseWheelScrolling=function(a){a?L():K()},b.setAllowScrolling=function(a){a?(b.setMouseWheelScrolling(!0),M()):(b.setMouseWheelScrolling(!1),N())},b.setKeyboardScrolling=function(b){a.keyboardScrolling=b},b.moveSectionUp=function(){var b=$('.pp-section.active').prev('.pp-section');!b.length&&a.loopTop&&(b=$('.pp-section').last()),b.length&&d(b)},b.moveSectionDown=function(){var b=$('.pp-section.active').next('.pp-section');!b.length&&a.loopBottom&&(b=$('.pp-section').first()),b.length&&d(b)},b.moveTo=function(b){var a='';isNaN(b)?a=$(document).find('[data-anchor="'+b+'"]'):a=$('.pp-section').eq(b-1),a.length>0&&d(a)},$(a.sectionSelector).each(function(){$(this).addClass('pp-section')}),a.css3&&(a.css3=H()),$(c).css({overflow:'hidden','-ms-touch-action':'none','touch-action':'none'}),b.setAllowScrolling(!0),$.isEmptyObject(a.navigation)||U(),m=$('.pp-section').length,$('.pp-section').each(function(b){$(this).data('data-index',b),$(this).css('z-index',m),!b&&$('.pp-section.active').length===0&&$(this).addClass('active'),typeof a.anchors[b]!='undefined'&&$(this).attr('data-anchor',a.anchors[b]),typeof a.sectionsColor[b]!='undefined'&&$(this).css('background-color',a.sectionsColor[b]),a.verticalCentered&&!$(this).hasClass('pp-scrollable')&&Q($(this)),m=m-1}).promise().done(function(){a.navigation&&($('#pp-nav').css('margin-top','-'+$('#pp-nav').height()/2+'px'),$('#pp-nav').find('li').eq($('.pp-section.active').index('.pp-section')).find('a').addClass('active')),$(window).on('load',function(){F()}),$.isFunction(a.afterRender)&&a.afterRender.call(this)});function Q(a){a.addClass('pp-table').wrapInner('<div class="pp-tableCell" style="height:100%" />')}function P(a){var b=$('.pp-section.active').index('.pp-section'),c=a.index('.pp-section');return b>c?'up':'down'}function d(c,e){var b={destination:c,animated:e,activeSection:$('.pp-section.active'),anchorLink:c.data('anchor'),sectionIndex:c.index('.pp-section'),toMove:c,yMovement:P(c),leavingSection:$('.pp-section.active').index('.pp-section')+1},d;if(b.activeSection.is(c))return;typeof b.animated=='undefined'&&(b.animated=!0),typeof b.anchorLink!='undefined'&&G(b.anchorLink,b.sectionIndex),b.destination.addClass('active').siblings().removeClass('active'),b.sectionsToMove=J(b),b.yMovement==='down'?(b.translate3d=u(),b.scrolling='-100%',a.css3||b.sectionsToMove.each(function(a){a!=b.activeSection.index('.pp-section')&&$(this).css(k(b.scrolling))}),b.animateSection=b.activeSection):(b.translate3d='translate3d(0px, 0px, 0px)',b.scrolling='0',b.animateSection=c),$.isFunction(a.onLeave)&&a.onLeave.call(this,b.leavingSection,b.sectionIndex+1,b.yMovement),O(b),W(b.anchorLink),V(b.anchorLink,b.sectionIndex),C=b.anchorLink,d=(new Date).getTime(),z=d}function O(b){a.css3?(p(b.animateSection,b.translate3d,b.animated),b.sectionsToMove.each(function(){p($(this),b.translate3d,b.animated)}),setTimeout(function(){n(b)},a.scrollingSpeed)):(b.scrollOptions=k(b.scrolling),b.animated?b.animateSection.animate(b.scrollOptions,a.scrollingSpeed,a.easing,function(){B(b),n(b)}):(b.animateSection.css(k(b.scrolling)),setTimeout(function(){B(b),n(b)},400)))}function n(b){$.isFunction(a.afterLoad)&&a.afterLoad.call(this,b.anchorLink,b.sectionIndex+1)}function J(a){var b;return a.yMovement==='down'?b=$('.pp-section').map(function(b){if(b<a.destination.index('.pp-section'))return $(this)}):b=$('.pp-section').map(function(b){if(b>a.destination.index('.pp-section'))return $(this)}),b}function B(a){a.yMovement==='up'&&a.sectionsToMove.each(function(b){$(this).css(k(a.scrolling))})}function k(b){return a.direction==='vertical'?{top:b}:{left:b}}function Y(b,c){a.css3?p(b,u(),!1):b.css(k(c))}function G(b,c){a.anchors.length?(location.hash=b,A(location.hash)):A(String(c))}function A(a){a=a.replace('#',''),$('body')[0].className=$('body')[0].className.replace(/\b\s?pp-viewing-[^\s]+\b/g,''),$('body').addClass('pp-viewing-'+a)}function F(){var c=window.location.hash.replace('#',''),e=c,b=$(document).find('.pp-section[data-anchor="'+e+'"]');b.length>0&&d(b,a.animateAnchor)}function q(){var b=(new Date).getTime();return b-z<T+a.scrollingSpeed}$(window).on('hashchange',E);function E(){var c=window.location.hash.replace('#','').split('/'),a=c[0],b;a.length&&a&&a!==C&&(isNaN(a)?b=$(document).find('[data-anchor="'+a+'"]'):b=$('.pp-section').eq(a-1),d(b))}function D(a){return{'-webkit-transform':a,'-moz-transform':a,'-ms-transform':a,transform:a}}function p(a,b,c){a.toggleClass('pp-easing',c),a.css(D(b))}$(document).keydown(function(c){if(a.keyboardScrolling&&!q())switch(c.which){case 38:case 33:b.moveSectionUp();break;case 40:case 34:b.moveSectionDown();break;case 36:b.moveTo(1);break;case 35:b.moveTo($('.pp-section').length);break;case 37:b.moveSectionUp();break;case 39:b.moveSectionDown();break;default:return}}),a.normalScrollElements&&($(document).on('mouseenter',a.normalScrollElements,function(){b.setMouseWheelScrolling(!1)}),$(document).on('mouseleave',a.normalScrollElements,function(){b.setMouseWheelScrolling(!0)})),o=(new Date).getTime();function e(a){var e=(new Date).getTime(),b,c,h,i,j,k,d,l,m,n;if(a=a||window.event,b=a.wheelDelta||-a.deltaY||-a.detail,c=Math.max(-1,Math.min(1,b)),h=typeof a.wheelDeltaX!='undefined'||typeof a.deltaX!='undefined',i=Math.abs(a.wheelDeltaX)<Math.abs(a.wheelDelta)||Math.abs(a.deltaX)<Math.abs(a.deltaY)||!h,g.length>149&&g.shift(),g.push(Math.abs(b)),j=e-o,o=e,j>200&&(g=[]),!q())return k=$('.pp-section.active'),d=v(k),l=y(g,10),m=y(g,70),n=l>=m,n&&i&&(c<0?f('down',d):c>0&&f('up',d)),!1}function y(c,d){for(var a=0,e=c.slice(Math.max(c.length-d,1)),b=0;b<e.length;b++)a=a+e[b];return Math.ceil(a/d)}function f(d,e){var c,a;if(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?d=='down'?(c='bottom',a=b.moveSectionDown):(c='top',a=b.moveSectionUp):d=='down'?(c='bottom',a=b.moveSectionUp):(c='top',a=b.moveSectionDown),e.length>0)if(I(c,e))a();else return!0;else a()}function I(b,a){if(b==='top')return!a.scrollTop();if(b==='bottom')return a.scrollTop()+1+a.innerHeight()>=a[0].scrollHeight}function v(a){return a.filter('.pp-scrollable')}function K(){c.get(0).addEventListener?(c.get(0).removeEventListener('mousewheel',e,!1),c.get(0).removeEventListener('wheel',e,!1)):c.get(0).detachEvent('onmousewheel',e)}function L(){c.get(0).addEventListener?(c.get(0).addEventListener('mousewheel',e,!1),c.get(0).addEventListener('wheel',e,!1)):c.get(0).attachEvent('onmousewheel',e)}function M(){if(x){var a=t();c.off('touchstart '+a.down).on('touchstart '+a.down,R),c.off('touchmove '+a.move).on('touchmove '+a.move,X)}}function N(){if(x){var a=t();c.off('touchstart '+a.down),c.off('touchmove '+a.move)}}function t(){var a;return window.PointerEvent?a={down:'pointerdown',move:'pointermove',up:'pointerup'}:a={down:'MSPointerDown',move:'MSPointerMove',up:'MSPointerUp'},a}function r(a){var b=new Array;return b.y=typeof a.pageY!='undefined'&&(a.pageY||a.pageX)?a.pageY:a.touches[0].pageY,b.x=typeof a.pageX!='undefined'&&(a.pageY||a.pageX)?a.pageX:a.touches[0].pageX,b}function s(a){return typeof a.pointerType=='undefined'||a.pointerType!='mouse'}function R(c){var b=c.originalEvent,a;s(b)&&(a=r(b),l=a.y,j=a.x)}function X(d){var g=d.originalEvent,k,b,e;!w(d.target)&&s(g)&&(k=$('.pp-section.active'),b=v(k),b.length||d.preventDefault(),q()||(e=r(g),h=e.y,i=e.x,a.direction==='horizontal'&&Math.abs(j-i)>Math.abs(l-h)?Math.abs(j-i)>c.width()/100*a.touchSensitivity&&(j>i?f('down',b):i>j&&f('up',b)):Math.abs(l-h)>c.height()/100*a.touchSensitivity&&(l>h?f('down',b):h>l&&f('up',b))))}function w(d,b){b=b||0;var c=$(d).parent();return!!(b<a.normalScrollElementTouchThreshold&&c.is(a.normalScrollElements))||b!=a.normalScrollElementTouchThreshold&&w(c,++b)}function U(){var b,c,e,d;$('body').append('<div id="pp-nav"><ul></ul></div>'),b=$('#pp-nav'),b.css('color',a.navigation.textColor),b.addClass(a.navigation.position);for(c=0;c<$('.pp-section').length;c++)e='',a.anchors.length&&(e=a.anchors[c]),a.navigation.tooltips!=='undefined'&&(d=a.navigation.tooltips[c],typeof d=='undefined'&&(d='')),b.find('ul').append('<li data-tooltip="'+d+'"><a href="#'+e+'"><span></span></a></li>');b.find('span').css('border-color',a.navigation.bulletsColor)}$(document).on('click touchstart','#pp-nav a',function(){var a=$(this).parent().index();d($('.pp-section').eq(a))}),$(document).on({mouseenter:function(){var b=$(this).data('tooltip');$('<div class="pp-tooltip '+a.navigation.position+'">'+b+'</div>').hide().appendTo($(this)).fadeIn(200)},mouseleave:function(){$(this).find('.pp-tooltip').fadeOut(200,function(){$(this).remove()})}},'#pp-nav li');function V(b,c){a.navigation&&($('#pp-nav').find('.active').removeClass('active'),b?$('#pp-nav').find('a[href="#'+b+'"]').addClass('active'):$('#pp-nav').find('li').eq(c).find('a').addClass('active'))}function W(b){a.menu&&($(a.menu).find('.active').removeClass('active'),$(a.menu).find('[data-menuanchor="'+b+'"]').addClass('active'))}function H(){var a=document.createElement('p'),b,d={webkitTransform:'-webkit-transform',OTransform:'-o-transform',msTransform:'-ms-transform',MozTransform:'-moz-transform',transform:'transform'},c;document.body.insertBefore(a,null);for(c in d)a.style[c]!==void 0&&(a.style[c]='translate3d(1px,1px,1px)',b=window.getComputedStyle(a).getPropertyValue(d[c]));return document.body.removeChild(a),b!==void 0&&b.length>0&&b!=='none'}function u(){return a.direction!=='vertical'?'translate3d(-100%, 0px, 0px)':'translate3d(0px, -100%, 0px)'}},$('#pagepiling').pagepiling({direction:'horizontal',menu:'#menu',scrollingSpeed:700,loopBottom:!0,sectionsColor:['#E3E3E3','#E3E3E3','#F1CA9E','#94C28B','#5596CA'],anchors:['home','about','skills','works','contact'],navigation:{position:'nav-position',tooltips:['Home','About','Skills','Works','Contact']},afterRender:function(){$('#pp-nav').addClass('custom')},afterLoad:function(b,a){a>1?$('#pp-nav').removeClass('custom'):$('#pp-nav').addClass('custom')}}),$.fn.pagepiling.setAllowScrolling(!1)})